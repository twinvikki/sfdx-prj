<template>
    <lightning-card variant="Narrow"  title=" MDN - WebRTC: Still photo capture demo">
        <lightning-layout>
            <lightning-layout-item padding="around-small">
                <lightning-card variant="Narrow"  title="">
                    <br/>
                    <div class="camera">
                        <video id="video" class="classVideo">Video stream not available.</video>
                    </div>
                </lightning-card>
            </lightning-layout-item>
            <lightning-layout-item padding="around-small">
                <lightning-card variant="Narrow"  title="Captures Image">
                    <canvas class="canClass" id="canvas">
                    </canvas>
                    <div class="output">
                            <img id="photo" class="classPhoto" src={preData} alt=""/> <br/>
                        <button style="background-color:rgba(0, 0, 255, 0.507)" onclick={savePhoto}>Save photo to record</button> 
                    </div>
                </lightning-card>
            </lightning-layout-item>
        </lightning-layout>
        <div slot="footer">
            <button style="background-color:aquamarine" onclick={clickCapture}>Take photo</button>  &nbsp;
            <button style="background-color:rgba(255, 0, 0, 0.664)" onclick={clickClear}>Clear Photo</button> 
        </div>
    </lightning-card>
</template>
<!-- 


var pageRef = component.get("v.pageReference");
console.log(JSON.stringify(pageRef));
var state = pageRef.state; // state holds any query params
console.log('state = ' + JSON.stringify(state));
var base64Context = state.inContextOfRef;
console.log('base64Context = ' + base64Context);
if (base64Context.startsWith("1\.")) {
    base64Context = base64Context.substring(2);
    console.log('base64Context = ' + base64Context);
}
var addressableContext = JSON.parse(window.atob(base64Context));
console.log('addressableContext = ' + JSON.stringify(addressableContext));
component.set("v.recordId", addressableContext.attributes.recordId); -->